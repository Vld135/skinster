# Примеры Workflows

Здесь собраны готовые примеры workflow для типичных сценариев использования. Каждый пример содержит цепочку нод и рекомендуемые настройки параметров.

---

## Пример 1: Ежедневный фарм с уведомлением

Простой workflow для ежедневного фарма Armory звёзд с уведомлением в Telegram по завершении.

### Цепочка нод

```
Daily Schedule → Account Context → Start Farm → Telegram уведомление
```

### Настройки

**Daily Schedule:**
* Время запуска: `23:00`
* Часовой пояс: `Москва (UTC+3)`
* Дни недели: все
* Обработка конфликтов: `Пропустить этот запуск`

**Account Context:**
* Источник: `Папка`
* Папка: выберите папку с аккаунтами для фарма

**Start Farm:**
* Режим выполнения: `Фоновый`
* Тип фарма: `Armory (звёзды)`
* Фармить до % звёзд: `100`
* Дождаться окончания: `Да`
* Human-like задержки: `Да`

**Telegram уведомление:**
* Тип сообщения: `Шаблон`
* Шаблон: `Workflow завершён`

---

## Пример 2: Фарм Armory + покупка пропусков + продажа

Полный цикл: проверка пропусков, покупка при необходимости, активация, фарм и продажа полученных предметов.

### Цепочка нод

```
Daily Schedule → Account Context → Has Pass?
  ├─ yes → Start Farm → Sell Inventory → Telegram уведомление
  └─ no  → Buy Passes → Activate Armory Pass → Start Farm → Sell Inventory → Telegram уведомление
```

### Настройки

**Daily Schedule:**
* Время запуска: `22:00`
* Обработка конфликтов: `Поставить в очередь`

**Account Context:**
* Источник: `Папка`

**Has Pass?:**
* Мин. кол-во активных: `1`
* Условие: `У всех достаточно пропусков`

**Buy Passes:**
* Режим покупки: `Докупить до 5 шт`

**Activate Armory Pass:**
* Пропускать если 5 активных: `Да`

**Start Farm:**
* Тип фарма: `Armory (звёзды)`
* Дождаться окончания: `Да`

**Sell Inventory:**
* Типы предметов: `Кейсы`, `Скины`, `Стикеры`
* Стратегия цены: `Оптимальная (быстрая продажа)`
* Автоподтверждение: `Да`

---

## Пример 3: Цепочка Workflows

Два workflow, связанных через триггер "После Workflow". Первый фармит, второй продаёт и отправляет предметы на главный аккаунт.

### Workflow A: Фарм

```
Daily Schedule → Account Context → Start Farm
```

* Время запуска: `22:00`
* Тип фарма: `Weekly Drop`
* Авто-сбор дропа: `Да`

### Workflow B: Продажа и отправка

```
После Workflow (Workflow A) → Account Context → Sell Inventory → Send To Main → Telegram уведомление
```

**После Workflow:**
* Исходный Workflow: `Workflow A`
* Условие запуска: `Только при успехе`
* Задержка: `30 секунд`

**Sell Inventory:**
* Типы предметов: `Кейсы`, `Капсулы`
* Фильтр по стоимости: `Да`
* Минимальная стоимость: `0.10`
* Стратегия цены: `Оптимальная`

**Send To Main:**
* Типы предметов: `Скины`, `Стикеры`
* Фильтр по стоимости: `Да`
* Минимальная стоимость: `1.00`
* Автоподтверждение: `Да`

---

## Пример 4: Автосортировка инвентаря

Регулярная сортировка предметов по хранилищам (Storage Units).

### Цепочка нод

```
Cron Schedule → Account Context → Move To Storage → Telegram уведомление
```

### Настройки

**Cron Schedule:**
* Cron выражение: `0 10,22 * * *` (в 10:00 и 22:00)
* Часовой пояс: `Москва (UTC+3)`

**Account Context:**
* Источник: `Все аккаунты`

**Move To Storage:**
* Настройте распределение по хранилищам для каждого аккаунта

**Telegram уведомление:**
* Тип: `Своё сообщение`
* Сообщение: `Сортировка завершена! Обработано {{accountsCount}} аккаунтов.`

---

## Советы

* **Используйте задержки** — добавляйте ноду Delay между действиями, особенно если workflow выполняет много операций подряд
* **Включайте Human-like задержки** — опция доступна в нодах фарма, Armory и активации пропусков. Добавляет случайные задержки для имитации естественного поведения
* **Тестируйте на одном аккаунте** — перед запуском workflow на всех аккаунтах, протестируйте его на одном. Используйте режим "Выбранные вручную" в Account Context
* **Используйте цепочки** — для сложных сценариев разбивайте логику на несколько workflow и связывайте их через триггер "После Workflow"
* **Настройте уведомления** — добавляйте ноду Telegram уведомления в конце каждого workflow, чтобы отслеживать результаты
